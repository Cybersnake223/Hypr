# ############################################################################################################
# ##   ______  __      __  _______   ________  _______    ______   __    __   ______   __    __  ________   ##
# ##  /      \|  \    /  \|       \ |        \|       \  /      \ |  \  |  \ /      \ |  \  /  \|        \  ##
# ## |  $$$$$$\\$$\  /  $$| $$$$$$$\| $$$$$$$$| $$$$$$$\|  $$$$$$\| $$\ | $$|  $$$$$$\| $$ /  $$| $$$$$$$$  ##
# ## | $$   \$$ \$$\/  $$ | $$__/ $$| $$__    | $$__| $$| $$___\$$| $$$\| $$| $$__| $$| $$/  $$ | $$__      ##
# ## | $$        \$$  $$  | $$    $$| $$  \   | $$    $$ \$$    \ | $$$$\ $$| $$    $$| $$  $$  | $$  \     ##
# ## | $$   __    \$$$$   | $$$$$$$\| $$$$$   | $$$$$$$\ _\$$$$$$\| $$\$$ $$| $$$$$$$$| $$$$$\  | $$$$$     ##
# ## | $$__/  \   | $$    | $$__/ $$| $$_____ | $$  | $$|  \__| $$| $$ \$$$$| $$  | $$| $$ \$$\ | $$_____   ##
# ##  \$$    $$   | $$    | $$    $$| $$     \| $$  | $$ \$$    $$| $$  \$$$| $$  | $$| $$  \$$\| $$     \  ##
# ##   \$$$$$$     \$$     \$$$$$$$  \$$$$$$$$ \$$   \$$  \$$$$$$  \$$   \$$ \$$   \$$ \$$   \$$ \$$$$$$$$  ##
# ##                                                                                                        ##
# ## Vicious Viper Config                                                                                 ##
# ## Created by Cybersnake                                                                                  ##
# ############################################################################################################

# ##########################
# ## Default Applications ##
# ##########################

$launcher = rofi -show drun
$browser = helium-browser
$incogbrowser = helium-browser --incognito 
$sysmon = btop
$music = cmus
$editor = nvim
$term = kitty
# ######################
# ## Web Applications ##
# ######################

$app = https:
$yt = $app//youtube.com
$gemini = $app//gemini.google.com/app
$chatgpt = $app//chat.openai.com
$signal = signal-desktop
$reddit = $app//reddit.com
$ghprofile = $app//github.com/Cybersnake223?tab=repositories
$wallhaven = $app//wallhaven.cc

# ############################
# ## Environment variables ##
# ###########################

env = HYPRCURSOR_THEME,rose-pine-hyprcursor
env = HYPRCURSOR_SIZE,38
env = GTK_THEME,Colloid-Purple-Dark-Compact-Catppuccin:dark

# ######################
# ## Startup Services ##
# ######################

exec-once = xdg-portal-hyprland
exec-once = rfkill block bluetooth
exec-once = systemctl --user import-environment QT_QPA_PLATFORMTHEME
exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1 & 
exec-once = systemctl --user import-environment XDG_SESSION_TYPE XDG_CURRENT_DESKTOP WAYLAND_DISPLAY QT_QPA_PLATFORMTHEME
exec-once = zsh -c "sleep 0.5 && swww-daemon --format xrgb & waybar & changewall & mako"
exec-once = zsh -c "sleep 1 && wl-clip-persist -c both &"
exec-once = zsh -c "sleep 1 && wl-paste --type text --watch cliphist store &"
exec-once = zsh -c "sleep 1 && wl-paste --type image --watch cliphist store &"
exec-once = /usr/bin/gnome-keyring-daemon --start --components=pkcs11,secrets,ssh
# exec-once = hypridle

# #############
# ## MONITOR ##
# #############

monitor = eDP-1,1920x1080@60,auto,1

# ##############
# ## Xwayland ##
# ##############

xwayland {
  force_zero_scaling = true
  use_nearest_neighbor = true
  enabled = true
}

# ###############
# ## Ecosystem ##
# ###############

ecosystem {
  no_update_news = true
  no_donation_nag = true
}

# ########################################
# ## Configure mouse and touchpad here. ##
# ########################################

input {
    kb_layout = us
    # kb_options = caps:escape
    numlock_by_default = true
    follow_mouse = 1
    sensitivity = 0.6
    repeat_rate = 60
    repeat_delay = 500
    scroll_method = 2fg

    touchpad {
     natural_scroll = no
     disable_while_typing = no
     middle_button_emulation = no
     drag_lock = no
     tap-to-click = true
     scroll_factor = 1.0
    }
}

cursor {
    sync_gsettings_theme = false
    enable_hyprcursor = true
    no_hardware_cursors = true
}

# ####################################################################
# ## Configure general , decoration , gestures and animations here. ##
# ####################################################################

# Color source
source = colors/colors.conf

general {
  gaps_in = 0
  gaps_out = 0
  float_gaps = 0
  border_size = 4
  col.active_border = $tertiary
  col.inactive_border = $shadow
  layout = dwindle 
  resize_on_border = false
  extend_border_grab_area = 0
  allow_tearing = false  # Vsync
  # no_border_on_floating = false
}


decoration {
  rounding = 20
  inactive_opacity = 0.9
  active_opacity = 1.0
  fullscreen_opacity = 1.0

   shadow {
    enabled = false
    range = 30
    scale = 1.0
    color = $tertiary
    color_inactive = $shadow
  }

  blur {
    enabled =  true
    size = 6
    passes = 2
    ignore_opacity = false
    brightness = 0.7
    xray = false
    contrast = 1.0
    popups = true
    new_optimizations = true
    noise = 0
  }
}

# gestures {
#   workspace_swipe_distance=400
#   workspace_swipe_min_speed_to_force=30
#   workspace_swipe_create_new = true
#   workspace_swipe_cancel_ratio = 0.5
#   workspace_swipe_forever = true
# }
#
animations {
  enabled = true
  #first_launch_animation = false

# Defining Custom Bezier Curves
  bezier = bounce, 0.7, 1.9, 0.5, 1
  bezier = slide, 0.25, 0.1, 0.25, 1

# Applying Bezier Curves 
  animation = windowsIn, 1, 2, slide
  animation = windowsOut, 1, 2, slide
  animation = windowsMove, 1, 2, slide
  animation = workspaces, 1, 2, slide
  animation = windows, 1, 2, bounce
}

# #####################################
# ## Configure layout settings here. ##
# #####################################

dwindle {
  pseudotile = yes 
  preserve_split = yes
  force_split = 1
  default_split_ratio = 1
}

master {
  new_status = master
}

# ###################################
# ## Configure misc settings here. ##
# ###################################

misc {
    disable_hyprland_logo = true
    enable_swallow = true
    swallow_regex = ^($term)$
    focus_on_activate = true
    mouse_move_enables_dpms = true
    vfr = true
    vrr = 0 
    animate_manual_resizes = false
    mouse_move_focuses_monitor = true
    disable_splash_rendering = true
}

render { 
  direct_scanout = true
  new_render_scheduling	= true
}

# ####################################
# ## Configure Debug settings here. ##
# ####################################

debug {
  damage_tracking = 2
  disable_logs = true
  disable_time = true
  #watchdog_timeout = 0
}


# ################
# ## ECO-SYSTEM ##
# ################

ecosystem {
  no_update_news = true
}

# #############
# ## PLUGINS ##
# #############

#plugin {
#    hyprtasking {
#        rows = 2
#        exit_behavior = original hovered interacted
#        gap_size = 8
#        bg_color = rgba(000000FF)
#    }
#}

# #############
# ## KEYMAPS ##
# #############

# Function 

bind = ,F1,   exec, wpctl set-mute @DEFAULT_SINK@ toggle 
bind = ,F2,   exec, wpctl set-volume @DEFAULT_SINK@ 10%-
bind = ,F3,   exec, wpctl set-volume @DEFAULT_SINK@ 10%+ 
bind = ,F4,   exec, wpctl set-mute @DEFAULT_SOURCE@ toggle 
bind = ,F5,   exec, wpctl set-volume @DEFAULT_SOURCE@ 5%+ 
bind = ,F6,   exec, wpctl set-volume @DEFAULT_SOURCE@ 5%-
bind = ,F7,   exec, blockwifi
bind = ,F9,   exec, hyprlock #--immediate-render
bind = ,F11,  exec, brightnessctl -q s 10%- 
bind = ,F12,  exec, brightnessctl -q s +10% 
bind = ,Print,exec, screenshot #qs -p ~/.config/quickshell/hyprshot/shell.qml -n

# Applications 

bind = ALT, Return, exec, $term
bind = ALT, Q , killactive,
bind = ALT, R, exec, $term yazi
bind = ALT, M, exec, $term $music
bind = ALT, N, exec, $term $editor
bind = ALT, H, exec, $term $sysmon
bind = ALT, S, exec, localsend
bind = ALT, D, exec, $launcher
bind = ALT, E, exec, rofiemoji
bind = ALT, X, exec, powermenu
bind = ALT, B, exec, btmenu
bind = ALT, F, fullscreen,
bind = ALT, T, exec, thunderbird
bind = ALT, K, exec, wkill
bind = ALT, W, exec, changewall
bind = ALT, Y, exec, ytdla
bind = ALT, C, exec, makoctl dismiss -a
bind = ALT SHIFT ,V, exec, watchvid
bind = ALT SHIFT ,L, exec, qs -p ~/.config/quickshell/hyprlens/UniversalSnip.qml -n
bind = ALT SHIFT, K, exec, ccleaner
bind = ALT SHIFT, T, exec, thunar
bind = ALT SHIFT, D, exec, aria2cd
bind = ALT SHIFT, C, exec, scriptedit
bind = ALT SHIFT, E, exec, editconf
bind = ALT SHIFT, N, exec, wifimenu
bind = ALT SHIFT, P, exec, pavucontrol
bind = ALT, V, exec, cliphist list | rofi -dmenu -display-columns 2 | cliphist decode | wl-copy 

# Layout 

bind = ALT, P, togglefloating, # dwindle
bind = ALT, J, togglesplit, # dwindle
#bind = ALT, tab, hyprtasking:toggle, all
#bind = ALT, space, hyprtasking:toggle, cursor

# Web Applications 

bind = ALT SHIFT, B, exec, $browser
bind = ALT SHIFT, I, exec, $incogbrowser #$browser -private-window
bind = ALT, G, exec, $browser $ghprofile
bind = ALT SHIFT, Y, exec, $browser $yt 
bind = ALT SHIFT, G, exec, $browser $gemini 
bind = ALT SHIFT, W, exec, $browser $wallhaven 
bind = ALT SHIFT, O, exec, $browser $chatgpt 
bind = ALT SHIFT, S, exec, $signal
bind = ALT SHIFT, R, exec, $browser $reddit
# bind = ALT SHIFT, M, exec, mailopen

# Special Workspace

bind = ALT, grave, togglespecialworkspace,
bind = ALT SHIFT, grave, movetoworkspace, special

# Swap Windows

bind = ALT SHIFT, left, swapwindow, l
bind = ALT SHIFT, right, swapwindow, r
bind = ALT SHIFT, up, swapwindow, u
bind = ALT SHIFT, down, swapwindow, d

# Move Focus

bind = ALT, left, movefocus, l
bind = ALT, right, movefocus, r
bind = ALT, up, movefocus, u
bind = ALT, down, movefocus, d

# Switch Workspaces

bind = ALT, 1, workspace, 1
bind = ALT, 2, workspace, 2
bind = ALT, 3, workspace, 3
bind = ALT, 4, workspace, 4
bind = ALT, 5, workspace, 5
bind = ALT, 6, workspace, 6
bind = ALT, 7, workspace, 7
bind = ALT, 8, workspace, 8
bind = ALT, 9, workspace, 9
bind = ALT, 0, workspace, 10

# Moving Active Windows 

bind = ALT SHIFT, 1, movetoworkspacesilent, 1
bind = ALT SHIFT, 2, movetoworkspacesilent, 2
bind = ALT SHIFT, 3, movetoworkspacesilent, 3
bind = ALT SHIFT, 4, movetoworkspacesilent, 4
bind = ALT SHIFT, 5, movetoworkspacesilent, 5
bind = ALT SHIFT, 6, movetoworkspacesilent, 6
bind = ALT SHIFT, 7, movetoworkspacesilent, 7
bind = ALT SHIFT, 8, movetoworkspacesilent, 8
bind = ALT SHIFT, 9, movetoworkspacesilent, 9
bind = ALT SHIFT, 0, movetoworkspacesilent, 10

# Drag/Resize Windows
bind = ALT, Tab, exec, hypr-alttab
bind = SHIFT, LEFT, resizeactive, -50 0
bind = SHIFT, RIGHT, resizeactive, 50 0
bind = SHIFT, UP, resizeactive, 0 -50
bind = SHIFT, DOWN, resizeactive, 0 50
bindm = ALT, mouse:272, movewindow

# ##################
# ## Window Rules ##
# ##################

windowrule = float on , match:title ^(Media viewer)$
windowrule = float on, match:class ^org\.pulseaudio\.pavucontrol$, match:title Volume Control
windowrule = float on, match:title ^(Picture-in-Picture)$
windowrule = size 800 600, match:title Volume Control
windowrule = size 1000 700, match:title ^(Open Files)$
windowrule = size 1000 700, match:title ^(Save File)$

# #################
# ## Layer Rules ##
# #################

layerrule = animation slide,match:namespace notifications
layerrule = animation slide,match:namespace rofi
layerrule = animation slide,match:namespace waybar
layerrule = animation slide,match:namespace hyprlock
layerrule = blur on, match:namespace waybar
# layerrule = blur on, match:namespace notifications
# layerrule = blur on, match:namespace rofi
layerrule = dim_around on, match:namespace rofi

# #####################
# ## Workspace Rules ##
# #####################
workspace = w[tv1], gapsout:0, gapsin:0, bordersize:0, border:false, rounding:false
