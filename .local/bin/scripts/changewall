#!/bin/bash
############################################################################################################
##   ______  __      __  _______   ________  _______    ______   __    __   ______   __    __  ________   ##
##  /      \|  \    /  \|       \ |        \|       \  /      \ |  \  |  \ /      \ |  \  /  \|        \  ##
## |  $$$$$$\\$$\  /  $$| $$$$$$$\| $$$$$$$$| $$$$$$$\|  $$$$$$\| $$\ | $$|  $$$$$$\| $$ /  $$| $$$$$$$$  ##
## | $$   \$$ \$$\/  $$ | $$__/ $$| $$__    | $$__| $$| $$___\$$| $$$\| $$| $$__| $$| $$/  $$ | $$__      ##
## | $$        \$$  $$  | $$    $$| $$  \   | $$    $$ \$$    \ | $$$$\ $$| $$    $$| $$  $$  | $$  \     ##
## | $$   __    \$$$$   | $$$$$$$\| $$$$$   | $$$$$$$\ _\$$$$$$\| $$\$$ $$| $$$$$$$$| $$$$$\  | $$$$$     ##
## | $$__/  \   | $$    | $$__/ $$| $$_____ | $$  | $$|  \__| $$| $$ \$$$$| $$  | $$| $$ \$$\ | $$_____   ##
##  \$$    $$   | $$    | $$    $$| $$     \| $$  | $$ \$$    $$| $$  \$$$| $$  | $$| $$  \$$\| $$     \  ##
##   \$$$$$$     \$$     \$$$$$$$  \$$$$$$$$ \$$   \$$  \$$$$$$  \$$   \$$ \$$   \$$ \$$   \$$ \$$$$$$$$  ##
##                                                                                                        ##
##                                                                                                        ##
## Wallpaper Switcher                                                                                     ##
## Created by Cybersnake                                                                                  ##
############################################################################################################

# Check if swaybg is installed 
if type swww >/dev/null 2>&1; then

  DIR="$HOME/Pictures/Wallpapers"
  
  # Store a list of files for efficiency
  FILES=("$DIR"/*.png)
  RANDOMPIC=${FILES[RANDOM % ${#FILES[@]}]}
  # Applying Random Wallpaper 
  #hyprctl hyprpaper preload "$RANDOMPIC" 2>/dev/null &
  #swaybg -m fit -i "$RANDOMPIC" 2>/dev/null &
  swww clear-cache
  sleep 1.9 &
  swww img "$RANDOMPIC" --transition-type grow --transition-fps 60 --transition-duration 2.5 --transition-step 255 --transition-pos bottom-left  #2>/dev/null &
  matugen image "$RANDOMPIC" -t scheme-rainbow --contrast 1.0 
  notify-send "Wallpapers Applied" "Reloading Theme"
  else
  notify-send  "Swww not installed. Please install Swww."
  
fi
exit 1
